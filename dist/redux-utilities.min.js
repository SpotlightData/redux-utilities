!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.SRU={})}(this,function(e){"use strict";function t(e,t,n){return n.reduce(e,t)}function n(e){return JSON.parse(JSON.stringify(e))}var r=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(i,o){try{var u=t[i](o),a=u.value}catch(e){return void n(e)}if(!u.done)return Promise.resolve(a).then(function(e){r("next",e)},function(e){r("throw",e)});e(a)}("next")})}},i=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},o=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var u,a=e[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var u=require("yup");u.object().shape({key:u.string().required(),cases:u.object().required(),initialState:u.object()});var a,c,s=(a=r(regeneratorRuntime.mark(function e(t,n,r){var i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.shift(),e.next=3,i();case 3:return(o=e.sent)._error&&r&&t.open(o),s(t,n),e.abrupt("return",void 0);case 7:case"end":return e.stop()}},e,this)})),function(e,t,n){return a.apply(this,arguments)}),f=(c=r(regeneratorRuntime.mark(function e(t,n,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(n);case 2:e.sent.map(function(e){e._error&&r&&t.open(e)});case 4:case"end":return e.stop()}},e,this)})),function(e,t,n){return c.apply(this,arguments)});var p={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},l={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},d=Object.defineProperty,y=Object.getOwnPropertyNames,v=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,b=Object.getPrototypeOf,g=b&&b(Object);var m=require("yup");m.object().shape({key:m.string().required(),type:m.object().required(),initialState:m.object(),cases:m.object()});e.makeType=function(e,n){return t(function(t,n){return Object.assign(i({},n,e+"_"+n),t)},{},n.concat(arguments.length>2&&void 0!==arguments[2]?arguments[2]:[]))},e.applyReducer=function(e){return[e.key,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,r=arguments[1];if(void 0===e[r.type])return n;var i=e[r.type](n,r);return Object.assign({},n,i)}}(e.cases,e.initialState)]},e.runActions=function(e){var t=1>=arguments.length||void 0===arguments[1]||arguments[1];if("function"!=typeof e.open)throw TypeError("Expected handler.open to be a function");return function(n){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?s(e,n,t):f(e,n,t)}},e.flattenReducers=function(e){return t(function(e,t){var n=o(t,2);return e[n[0]]=n[1],e},{},e)},e.withMappedActions=function(e,t,n,r){return function(i){var o=i.displayName||i.name,u=function(o){return r(i,Object.assign({},o,{actions:e(t,o,n)}))};return u.WrappedComponent=i,u.displayName="withMappedActions("+o+")",function e(t,n,r){if("string"!=typeof n){if(g){var i=b(n);i&&i!==g&&e(t,i,r)}var o=y(n);v&&(o=o.concat(v(n)));for(var u=0;o.length>u;++u){var a=o[u];if(!(p[a]||l[a]||r&&r[a])){var c=h(n,a);try{d(t,a,c)}catch(e){}}}return t}return t}(u,i)}},e.mapActionsToBackEnd=function(e,t,n){var r=t.token,i=t.dispatch;if(!(e instanceof Object)||Array.isArray(e))throw TypeError("Actions should be an object");if("string"!=typeof r)throw TypeError("Token string needs to be passed");if(!i||"function"!=typeof i)throw TypeError("Dispatch should be a function");var o=n(r);return Object.keys(e).reduce(function(t,n){return t[n]=e[n](o,i),t},{})},e.extendDefaultReducer=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,o=e.key,u=e.type,a=e.cases,c=Object.assign({all:[],current:{},loading:!0,failed:!1,unmounted:!1},e.initialState||{});return{key:o,cases:Object.assign((t={},i(t,u.GET_ALL,function(e,t){return{all:t.all,loading:!1,unmounted:!1}}),i(t,u.GET_ONE,function(e,t){return{current:t.current,loading:!1,unmounted:!1}}),i(t,u.LOADING,function(e,t){return{loading:!0,unmounted:!1}}),i(t,u.LOADING_DONE,function(e,t){return{loading:!1}}),i(t,u.UNMOUNT,function(e,t){return{unmounted:!0}}),i(t,u.FAILED,function(e,t){return{loading:!1,failed:!0,unmounted:!1}}),i(t,u.CLEAR,function(){return r(c)}),t),a),initialState:r(c)}},Object.defineProperty(e,"__esModule",{value:!0})});
