!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.SRU={})}(this,function(e){"use strict";function t(e,t,n){return n.reduce(e,t)}const n=require("yup");n.object().shape({key:n.string().required(),cases:n.object().required(),initialState:n.object()});var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i=Object.defineProperty,c=Object.getOwnPropertyNames,a=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,s=Object.getPrototypeOf,u=s&&s(Object);e.makeType=function(e,n,r=[]){return t((t,n)=>Object.assign({[n]:`${e}_${n}`},t),{},n.concat(r))},e.applyReducer=function(e){return[e.key,function(e,t={}){return(n=t,r)=>{if(void 0===e[r.type])return n;const o=e[r.type](n,r);return Object.assign({},n,o)}}(e.cases,e.initialState)]},e.runActions=function(e,t=!0){if("function"!=typeof e.open)throw TypeError("Expected handler.open to be a function");return(n,r=!1)=>r?async function e(t,n,r){const o=n.shift(),i=await o();i._error&&r&&t.open(i),e(t,n)}(e,n,t):async function(e,t,n){(await Promise.all(t)).map(t=>{t._error&&n&&e.open(t)})}(e,n,t)},e.flattenReducers=function(e){return t((e,t)=>{const[n,r]=t;return e[n]=r,e},{},e)},e.withMappedActions=((e,t,n,f)=>y=>{const d=y.displayName||y.name,l=r=>f(y,Object.assign({},r,{actions:e(t,r,n)}));return l.WrappedComponent=y,l.displayName=`withMappedActions(${d})`,function e(t,n,f){if("string"!=typeof n){if(u){var y=s(n);y&&y!==u&&e(t,y,f)}var d=c(n);a&&(d=d.concat(a(n)));for(var l=0;d.length>l;++l){var b=d[l];if(!(r[b]||o[b]||f&&f[b])){var m=p(n,b);try{i(t,b,m)}catch(e){}}}return t}return t}(l,y)}),Object.defineProperty(e,"__esModule",{value:!0})});
